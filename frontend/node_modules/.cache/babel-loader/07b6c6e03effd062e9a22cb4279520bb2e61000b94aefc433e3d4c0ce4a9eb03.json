{"ast":null,"code":"import { createAsyncThunk } from '@reduxjs/toolkit';\nimport api from '../api'; // Import de l'API configurée\n\n// ... reste du code inchangé ...\n\nexport const fetchProductReviews = createAsyncThunk('reviews/fetchProductReviews', async ({\n  productId,\n  sort,\n  search\n}, {\n  rejectWithValue\n}) => {\n  try {\n    const response = await api.get(`/products/${productId}/reviews`, {\n      params: {\n        sort,\n        search\n      }\n    });\n    return {\n      productId,\n      reviews: response.data\n    };\n  } catch (error) {\n    var _error$response, _error$response$data;\n    return rejectWithValue(((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.error) || 'Erreur de chargement des avis');\n  }\n});\n\n// ... autres thunks mis à jour avec api ...","map":{"version":3,"names":["createAsyncThunk","api","fetchProductReviews","productId","sort","search","rejectWithValue","response","get","params","reviews","data","error","_error$response","_error$response$data"],"sources":["C:/Users/Arlandon Andria/Music/ProductTracker/frontend/src/store/reviewSlice.ts"],"sourcesContent":["import { createAsyncThunk, createSlice, PayloadAction } from '@reduxjs/toolkit';\r\nimport api from '../api'; // Import de l'API configurée\r\n\r\n// ... reste du code inchangé ...\r\n\r\nexport const fetchProductReviews = createAsyncThunk(\r\n  'reviews/fetchProductReviews',\r\n  async ({ productId, sort, search }: { \r\n    productId: number; \r\n    sort?: string; \r\n    search?: string \r\n  }, { rejectWithValue }) => {\r\n    try {\r\n      const response = await api.get(`/products/${productId}/reviews`, {\r\n        params: { sort, search }\r\n      });\r\n      return {\r\n        productId,\r\n        reviews: response.data\r\n      };\r\n    } catch (error: any) {\r\n      return rejectWithValue(error.response?.data?.error || 'Erreur de chargement des avis');\r\n    }\r\n  }\r\n);\r\n\r\n// ... autres thunks mis à jour avec api ..."],"mappings":"AAAA,SAASA,gBAAgB,QAAoC,kBAAkB;AAC/E,OAAOC,GAAG,MAAM,QAAQ,CAAC,CAAC;;AAE1B;;AAEA,OAAO,MAAMC,mBAAmB,GAAGF,gBAAgB,CACjD,6BAA6B,EAC7B,OAAO;EAAEG,SAAS;EAAEC,IAAI;EAAEC;AAI1B,CAAC,EAAE;EAAEC;AAAgB,CAAC,KAAK;EACzB,IAAI;IACF,MAAMC,QAAQ,GAAG,MAAMN,GAAG,CAACO,GAAG,CAAC,aAAaL,SAAS,UAAU,EAAE;MAC/DM,MAAM,EAAE;QAAEL,IAAI;QAAEC;MAAO;IACzB,CAAC,CAAC;IACF,OAAO;MACLF,SAAS;MACTO,OAAO,EAAEH,QAAQ,CAACI;IACpB,CAAC;EACH,CAAC,CAAC,OAAOC,KAAU,EAAE;IAAA,IAAAC,eAAA,EAAAC,oBAAA;IACnB,OAAOR,eAAe,CAAC,EAAAO,eAAA,GAAAD,KAAK,CAACL,QAAQ,cAAAM,eAAA,wBAAAC,oBAAA,GAAdD,eAAA,CAAgBF,IAAI,cAAAG,oBAAA,uBAApBA,oBAAA,CAAsBF,KAAK,KAAI,+BAA+B,CAAC;EACxF;AACF,CACF,CAAC;;AAED","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}